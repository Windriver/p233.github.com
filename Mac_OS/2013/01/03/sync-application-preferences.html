<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="">
		<meta name="keywords" content="">
		<title>用 Dropbox 同步 Mac 软件设置 | Peter's Playground</title>
		<!--[if lt IE 8]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->
		<!--[if lt IE 9]><script src="/js/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Overlock">
		<link rel="stylesheet" type="text/css" href="/stylesheet/style.css">
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-37405656-1']);
		  _gaq.push(['_trackPageview']);
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
	</head>
	<body>
		<header>
			<h1>Peter's Playground</h1>
			<nav>
				<a href="/index.html">首页</a>
				<a href="/categories.html">文章分类</a>
					<div id="sub_nav">
						<a href="/categories.html#css">Css 技术</a>
						<a href="/categories.html#mac">软件与系统</a>
						<a href="/categories.html#unc">未分类</a>
					</div>
				<a href="/github.html">My Github</a>
			</nav>
			<a id="copyright" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank"><img src="/images/cc.png" alt="creative commons"/></a>
			<a id="rss" href="/rss.xml"><img src="/images/rss.png" alt="rss"/></a>
		</header>
		<div id="arrow"></div>
		<div id="container">
			<div id="post" class="inner">
	<p id="date"><span>03 January 2013</span></p>
	<h2>用 Dropbox 同步 Mac 软件设置</h2>
	<p>常常在台式机与笔记本电脑之间切换着工作，通过 Dropbox 同步文件很方便，偶尔会想到如果软件设置也可以同步就更美妙了。某个周末花了些时间搜集、整理了一些方法，在此分享出来。不必非用 Dropbox 不可，Google Drive 等类似服务应该也可以，只是一直使用 Dropbox 比较熟悉。如果不想麻烦，可以试试 <a href='http://joeworkman.net/blog/post-9591023714' target='_blank'>DropboxAppSync</a> 这款软件，和下面介绍到的原理是一样的，都是通过创建 symlink 将设置文件链接到 Dropbox。</p>

<h3 id='_sublime_text_2'>同步 Sublime Text 2</h3>

<p>Sublime Text 2 所有的设置文件、插件都存放在 Packages 文件夹下，这是一项非常重要的设定，因为 Mac OS, Windows, Linux 三个平台之间因此可以相互同步，并且包括所有的插件！以下仅以 Mac OS 做介绍。</p>

<ol>
<li>关闭 Sublime Text 2；</li>

<li>在要同步的主机上找到 Sublime Text 2 的 packages 文件夹（路径：<code>~/Library/Application Support/Sublime Text 2/</code>），将其移动到 Dropbox 文件夹内，例如 <code>~/Dropbox/Sync/Packages</code>；</li>

<li>启动 Terminal，输入 <code>cd ~/Library/Application\ Support/Sublime\ Text\ 2/</code> 打开目标文件夹（空格前要加 <code>\</code>），然后输入 <code>ln -s ~/Dropbox/Sync/Packages</code> 创建一个 symlink 将 Dropbox 下的 Packages 文件夹链接到当前目录，Windows 下创建 symlink 的命令请看<a href='http://technet.microsoft.com/en-us/library/cc753194(v=ws.10).aspx' target='_blank'>这里</a>；</li>

<li>在第二台机器上，关闭 Sublime Text 2，找到 packages 文件夹并将其删除，然后重复步骤 3 中的命令。</li>
</ol>

<h3 id='id1'>同步其他软件</h3>

<p>Mac OS 下软件的设置文件都会以 .plist 的格式保存在 <code>~/Library/Preferences/</code> 下，只要给这些文件创建 symlink 就可以完成同步。有些软件除了 .plist 外，还会在 <code>~/Libray/Application Support/</code> 下创建文件夹存储额外的设置，比如 Alfred 会创建一个文件夹存储 extensions，TextMate 会创建一个文件夹存储 Bundles 与 Themes，给这些文件夹创建 symlink 可以完成更彻底的同步。<em>但是，并不是所有的软件都允许同步这些文件夹</em>，有些软件会删除 symlink 重新写入文件，而不是按照 symlink 找到位于 Dropbox 下的文件。已经同步的软件如果更新，则不会影响到 symlink。</p>

<h3 id='_mac_os_keychain'>同步 Mac OS Keychain</h3>

<p>除了软件设置外，Mac OS 还有一样可以同步，就是 Keychain。如果你的两台 Mac 之间经常共用一套密码，同步 Keychain 会是一个很不错的选择，即便不是，把 Keychain 存储到 Dropbox 重装新系统也会保留这些密码。此外，FTP 软件普遍将登陆信息存储进 Keychain，只同步 .plist 文件是没有效果的，一定要同步 Keychain。</p>

<p>同步方法：将 <code>~/Library/Keychains/</code> 下的 login.keychain 文件移动到 Dropbox 文件夹下；启动 Keychain Access，选择 File &gt; Add Keychain…，然后添加位于 Dropbox 下的 login.keychain 文件；在第二台电脑上删除本地的 login.keychain 文件，然后重复 File &gt; Add Keychain…。同步 Keychain 后，重启电脑偶尔会被要求输入密码，验证 Keychain 的管理权限。</p>

<p><strong>最后，不要在两台电脑上同时运行同步的软件，会因为文件冲而突丢失设置。</strong></p>
	<p class="noindent">全文完&nbsp;&nbsp;&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank"><img src="/images/cc_small.png" alt="creative commons"></a></p>
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'p233'; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
		</div>
		<script type="text/javascript" src="/js/meny.min.js"></script>
		<script type="text/javascript" src="/js/prism.min.js"></script>
		<script type="text/javascript">
			if (navigator.appVersion.indexOf("Win")!=-1) document.getElementById('post').style.fontSize = '16px';

			var meny = Meny.create({
				menuElement: document.querySelector( 'header' ),
				contentsElement: document.querySelector( '#container' ),
				position: Meny.getQuery().p || 'left',
				height: 200,
				width: 250,
				threshold: 40
			});
		</script>
	</body>
</html>