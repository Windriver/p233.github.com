<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="CSS3 Slider 模仿练习 | Peter 的前端博客">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>CSS3 Slider 模仿练习</title>
    <!--[if lt IE 9]><meta http-equiv="refresh" content="0;url=/assets/ie.html"><![endif]-->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/assets/stylesheets/style.css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37955907-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <nav id="nav">
      <img id="profile" src="/assets/images/profile.png" alt="">
      <ul id="menu">
        <li id="label1" class="label selected"><span>最新文章</span></li>
        <li id="label2" class="label"><sapn>CSS 技术</sapn></li>
        <li id="label3" class="label"><span>前端综合</span></li>
        <li id="label4" class="label"><span>软件系统</span></li>
        <li id="label5" class="label"><span>Demo</span></li>
        <li id="label6" class="label"><span>Github</span></li>
        <a id="about" href="/index.html">About</a>
      </ul>
      <a id="contact_me" href="mailto:40132147&#64;&#113;&#113;&#46;&#99;&#111;&#109;?Subject=Hi%20Peter"></a>
      <a id="rss" href="/rss.xml" target="blank"></a>
    </nav>

    <aside id="sidebar">
      <div id="title_wrap" class="select1">
        <h2 id="title1" class="title">最新文章</h2>
        <h2 id="title2" class="title">CSS 技术</h2>
        <h2 id="title3" class="title">前端综合</h2>
        <h2 id="title4" class="title">软件系统</h2>
        <h2 id="title5" class="title">Demo</h2>
        <h2 id="title6" class="title">Github</h2>
      </div>

      <div id="post_list">
      
        <a class="CSS cate1" href="/2013/04/visited-selector">Visited 选择器的使用限制<span>Apr 2013</span></a>
      
        <a class="Mac cate1" href="/2013/04/sublime-test">Sublime Text 的个人设置<span>Apr 2013</span></a>
      
        <a class="Github cate1" href="/2013/04/emmet-css-snippets">Emmet CSS Snippets<span>Apr 2013</span></a>
      
        <a class="CSS cate1" href="/2013/04/css-performance-2">关注 CSS 性能 (二)<span>Apr 2013</span></a>
      
        <a class="Demo cate1" href="/2013/04/css3-slider-practice">CSS3 Slider 模仿练习<span>Apr 2013</span></a>
      
        <a class="Front_end cate1" href="/2013/03/ie10-placeholder">IE10 的 placeholder 伪类问题<span>Mar 2013</span></a>
      
        <a class="Github cate1" href="/2013/03/jekyll-alfred-extensions">Jekyll Alfred 2 Workflows<span>Mar 2013</span></a>
      
        <a class="CSS cate1" href="/2013/03/blankwork">Blankwork 超好用的网格系统<span>Mar 2013</span></a>
      
        <a class="Github cate1" href="/2013/03/syntax-highlighting-for-sass">Syntax Highlighting for Sass<span>Mar 2013</span></a>
      
        <a class="CSS cate1" href="/2013/01/css-selectors-must-memorize">牢记 31 种 CSS 选择器用法<span>Jan 2013</span></a>
      
        <a class="CSS cate1" href="/2013/01/sass-chinese-reference">Sass 官方文档翻译<span>Jan 2013</span></a>
      
        <a class="Mac cate1" href="/2013/01/dropbox-diff">DropboxDiff 对比文件的历史版本<span>Jan 2013</span></a>
      
        <a class="CSS cate1" href="/2013/01/css-transitions">关于 CSS Transition 的一切<span>Jan 2013</span></a>
      
        <a class="CSS cate1" href="/2013/01/css-performance">关注 CSS 性能 (一)<span>Jan 2013</span></a>
      
        <a class="CSS cate1" href="/2013/01/browser-specific-hacks">CSS 判断浏览器方法整理<span>Jan 2013</span></a>
      
        <a class="Mac cate1" href="/2013/01/sync-application-preferences">用 Dropbox 同步 Mac 软件设置<span>Jan 2013</span></a>
      
        <a class="Front_end cate1" href="/2013/01/blogging-with-jekyll">开始在 Github 上写博客<span>Jan 2013</span></a>
      
      </div>
    </aside>

    <div id="container">
      <div id="pjax">
        <article id="post">
  <header id="header">
    <h1 id="identifier">CSS3 Slider 模仿练习</h1>
    <button id="fullscreen" class="header_icon"></button>
    <button id="fontsize" class="header_icon"></button>
  </header>
  <div id="content">
    <p>最近模仿了一个动画网站练习用 CSS 写 Slider: <a href="/playground/css3_slider_practice/index.html">展示地址</a>，记录一点经验心得。</p>

<div class="highlight"><pre><code class="sass"><span class="nt">a</span>
  <span class="na">opacity</span><span class="o">:</span> <span class="mi">0</span>
  <span class="na">-webkit-transition</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit-transform</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span><span class="o">,</span> <span class="no">opacity</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span>
  <span class="na">-moz-transition</span><span class="o">:</span> <span class="o">-</span><span class="n">moz-transform</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span><span class="o">,</span> <span class="no">opacity</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span>
  <span class="na">-o-transition</span><span class="o">:</span> <span class="o">-</span><span class="n">o-transform</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span><span class="o">,</span> <span class="no">opacity</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span>
  <span class="na">-ms-transition</span><span class="o">:</span> <span class="o">-</span><span class="n">ms-transform</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span><span class="o">,</span> <span class="no">opacity</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span>
  <span class="na">transition</span><span class="o">:</span> <span class="n">transform</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span><span class="o">,</span> <span class="no">opacity</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span>
  <span class="na">-webkit-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="o">,</span> <span class="mi">5</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-moz-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="o">,</span> <span class="mi">5</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-o-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="o">,</span> <span class="mi">5</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-ms-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="o">,</span> <span class="mi">5</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="o">,</span> <span class="mi">5</span><span class="kt">px</span><span class="p">)</span>
  <span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="mi">5</span>
    <span class="k">&amp;</span><span class="nd">:nth-of-type</span><span class="o">(</span><span class="nn">#</span><span class="err">{$</span><span class="nt">i</span><span class="err">}</span><span class="o">)</span>
      <span class="na">-webkit-transition-delay</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="o">+</span> <span class="nv">$i</span><span class="o">*</span><span class="mi">0</span><span class="mf">.1</span><span class="kt">s</span>
      <span class="na">-moz-transition-delay</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="o">+</span> <span class="nv">$i</span><span class="o">*</span><span class="mi">0</span><span class="mf">.1</span><span class="kt">s</span>
      <span class="na">-o-transition-delay</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="o">+</span> <span class="nv">$i</span><span class="o">*</span><span class="mi">0</span><span class="mf">.1</span><span class="kt">s</span>
      <span class="na">-ms-transition-delay</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="o">+</span> <span class="nv">$i</span><span class="o">*</span><span class="mi">0</span><span class="mf">.1</span><span class="kt">s</span>
      <span class="na">transition-delay</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="o">+</span> <span class="nv">$i</span><span class="o">*</span><span class="mi">0</span><span class="mf">.1</span><span class="kt">s</span>
<span class="nc">.parent</span><span class="nd">:hover</span> <span class="nt">a</span>
  <span class="na">opacity</span><span class="o">:</span> <span class="mi">1</span>
  <span class="na">-webkit-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-moz-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-o-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">-ms-transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span>
  <span class="na">transform</span><span class="o">:</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span>
</code></pre></div>


<p>一，使用 <code>transition</code> 属性控制变化效果的时候，变化项也需要添加浏览器前缀，开始没有注意到这点多次尝试还以为做错了；</p>

<p>二，<code>:nth-of-type()</code> 是个好东西，可玩性非常高，配合 <code>transition-delay</code> 不借助 js 就可以做出连续的动画效果；</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;trigger1&quot;</span><span class="nt">&gt;</span>Slide1<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;trigger2&quot;</span><span class="nt">&gt;</span>Slide2<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;trigger3&quot;</span><span class="nt">&gt;</span>Slide3<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;trigger4&quot;</span><span class="nt">&gt;</span>Slide4<span class="nt">&lt;/label&gt;</span>

<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">id=</span><span class="s">&quot;trigger1&quot;</span> <span class="na">name=</span><span class="s">&quot;trigger&quot;</span> <span class="na">checked=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">id=</span><span class="s">&quot;trigger2&quot;</span> <span class="na">name=</span><span class="s">&quot;trigger&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">id=</span><span class="s">&quot;trigger3&quot;</span> <span class="na">name=</span><span class="s">&quot;trigger&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">id=</span><span class="s">&quot;trigger4&quot;</span> <span class="na">name=</span><span class="s">&quot;trigger&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;wrapper&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;slider&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>




<div class="highlight"><pre><code class="sass"><span class="nn">#slider</span>
  <span class="na">width</span><span class="o">:</span> <span class="nv">$width</span> <span class="o">*</span> <span class="mi">4</span>
<span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="mi">4</span>
  <span class="nn">#trigger</span><span class="si">#{</span><span class="nv">$i</span><span class="si">}</span><span class="nd">:checked</span> <span class="o">~</span> <span class="nn">#wrapper</span> <span class="nn">#slider</span>
    <span class="na">-webkit-transform</span><span class="o">:</span> <span class="nf">translateX</span><span class="p">((</span><span class="nv">$i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="nv">$width</span><span class="p">)</span>
    <span class="na">-moz-transform</span><span class="o">:</span> <span class="nf">translateX</span><span class="p">((</span><span class="nv">$i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="nv">$width</span><span class="p">)</span>
    <span class="na">-o-transform</span><span class="o">:</span> <span class="nf">translateX</span><span class="p">((</span><span class="nv">$i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="nv">$width</span><span class="p">)</span>
    <span class="na">-ms-transform</span><span class="o">:</span> <span class="nf">translateX</span><span class="p">((</span><span class="nv">$i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="nv">$width</span><span class="p">)</span>
    <span class="na">transform</span><span class="o">:</span> <span class="nf">translateX</span><span class="p">((</span><span class="nv">$i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="nv">$width</span><span class="p">)</span>
</code></pre></div>


<p>三，利用单选框与 <code>:checked</code> 伪类存储用户的输入信息是一件很巧妙的做法，乍看上去有点麻烦但相信还是可以继续深度发掘出更多用法，比如这个纯 CSS 写的小游戏：<a href="http://jsdo.it/GeckoTang/4rXg">CSS PANIC</a></p>

<p>四，同级选择器 <code>~</code> 与后代选择器连用，通过不同的单选框控制不同的偏移量。</p>

<p>这是 CSS3 Slider 的一种写法，印象中还有另一种写法利用到了 <code>:target</code> 伪类，下次有时间再尝试一下。</p>

    <a id="end_cc" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/"></a>
    <a id="twitter" href="https://twitter.com/intent/tweet?url=http://peters-playground.com/2013/04/css3-slider-practice&text=CSS3 Slider 模仿练习"></a>
    <a id="weibo" href="http://v.t.sina.com.cn/share/share.php?url=http://peters-playground.com/2013/04/css3-slider-practice&title=CSS3 Slider 模仿练习"></a>
  </div>
</article>

<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
      </div>
    </div>

    <div id="notice">左右滑动</div>
    <script type="text/javascript" src="/assets/js/jquery.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.pjax.js"></script>
    <script type="text/javascript" src="/assets/js/script.js"></script>
  </body>
</html>