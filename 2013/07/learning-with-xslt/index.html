<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="XSLT 学习笔记 | Peter 的前端博客">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<title>XSLT 学习笔记</title>
		<!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/assets/ie.html"><![endif]-->
		<link rel="shortcut icon" href="/assets/images/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="/assets/stylesheets/style.css">
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-37955907-1']);
			_gaq.push(['_trackPageview']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</head>
	<body>
		<nav id="nav">
			<img id="profile" src="/assets/images/profile.png" alt="">
			<ul id="menu">
				<li id="label1" class="label selected"><span>最新文章</span></li>
				<li id="label2" class="label"><sapn>CSS 技术</sapn></li>
				<li id="label3" class="label"><span>前端综合</span></li>
				<li id="label4" class="label"><span>软件系统</span></li>
				<li id="label5" class="label"><span>Codepen</span></li>
				<li id="label6" class="label"><span>Github</span></li>
				<a id="about" href="/index.html">About</a>
			</ul>
			<a id="contact_me" href="mailto:40132147&#64;&#113;&#113;&#46;&#99;&#111;&#109;?Subject=Hi%20Peter"></a>
			<a id="rss" href="/rss.xml" target="blank"></a>
		</nav>

		<aside id="sidebar">
			<div id="title_wrap" class="select1">
				<h2 id="title1" class="title">最新文章</h2>
				<h2 id="title2" class="title">CSS 技术</h2>
				<h2 id="title3" class="title">前端综合</h2>
				<h2 id="title4" class="title">软件系统</h2>
				<h2 id="title5" class="title">Codepen</h2>
				<h2 id="title6" class="title">Github</h2>
			</div>

			<div id="post_list">
			
				<a class="Front_end cate1" href="/2013/07/learning-with-xslt"><span class="circle_icon"></span>XSLT 学习笔记<span class="date">Jul 2013</span></a>
			
				<a class="CSS cate1" href="/2013/07/how-to-structure-a-sass-project"><span class="circle_icon"></span>如何管理 Sass 文件结构<span class="date">Jul 2013</span></a>
			
				<a class="Github cate1" href="/2013/07/stay-focused-app"><span class="circle_icon"></span>Stay-focused App<span class="date">Jul 2013</span></a>
			
				<a class="Front_end cate1" href="/2013/06/symphony-cms-debug-bookmarklet"><span class="circle_icon"></span>Symphony CMS debug bookmarklet<span class="date">Jun 2013</span></a>
			
				<a class="Codepen cate1" href="/2013/06/3D-working-robot"><span class="circle_icon"></span>3D walking robot<span class="date">Jun 2013</span></a>
			
				<a class="Codepen cate1" href="/2013/06/pure-css-keyboard"><span class="circle_icon"></span>Pure CSS Happy Hacking Keyboard<span class="date">Jun 2013</span></a>
			
				<a class="Codepen cate1" href="/2013/05/vim-shortcuts"><span class="circle_icon"></span>VIM Keyboard Shortcuts<span class="date">May 2013</span></a>
			
				<a class="Codepen cate1" href="/2013/05/css3-timeline"><span class="circle_icon"></span>CSS3 Timeline<span class="date">May 2013</span></a>
			
				<a class="CSS cate1" href="/2013/04/visited-selector"><span class="circle_icon"></span>Visited 选择器的使用限制<span class="date">Apr 2013</span></a>
			
				<a class="Mac cate1" href="/2013/04/sublime-test"><span class="circle_icon"></span>Sublime Text 的个人设置<span class="date">Apr 2013</span></a>
			
				<a class="Github cate1" href="/2013/04/emmet-css-snippets"><span class="circle_icon"></span>Emmet CSS Snippets<span class="date">Apr 2013</span></a>
			
				<a class="CSS cate1" href="/2013/04/css-performance-2"><span class="circle_icon"></span>关注 CSS 性能 (二)<span class="date">Apr 2013</span></a>
			
				<a class="Codepen cate1" href="/2013/04/css3-slider-practice"><span class="circle_icon"></span>CSS3 Slider 模仿练习<span class="date">Apr 2013</span></a>
			
				<a class="Front_end cate1" href="/2013/03/ie10-placeholder"><span class="circle_icon"></span>IE10 的 placeholder 伪类问题<span class="date">Mar 2013</span></a>
			
				<a class="Github cate1" href="/2013/03/jekyll-alfred-extensions"><span class="circle_icon"></span>Jekyll Alfred 2 Workflows<span class="date">Mar 2013</span></a>
			
				<a class="CSS cate1" href="/2013/03/blankwork"><span class="circle_icon"></span>Blankwork 超好用的网格系统<span class="date">Mar 2013</span></a>
			
				<a class="Github cate1" href="/2013/03/syntax-highlighting-for-sass"><span class="circle_icon"></span>Syntax Highlighting for Sass<span class="date">Mar 2013</span></a>
			
				<a class="CSS cate1" href="/2013/01/css-selectors-must-memorize"><span class="circle_icon"></span>牢记 31 种 CSS 选择器用法<span class="date">Jan 2013</span></a>
			
				<a class="CSS cate1" href="/2013/01/sass-chinese-reference"><span class="circle_icon"></span>Sass 官方文档翻译<span class="date">Jan 2013</span></a>
			
				<a class="Mac cate1" href="/2013/01/dropbox-diff"><span class="circle_icon"></span>DropboxDiff 对比文件的历史版本<span class="date">Jan 2013</span></a>
			
				<a class="CSS cate1" href="/2013/01/css-transitions"><span class="circle_icon"></span>关于 CSS Transition 的一切<span class="date">Jan 2013</span></a>
			
				<a class="CSS cate1" href="/2013/01/css-performance"><span class="circle_icon"></span>关注 CSS 性能 (一)<span class="date">Jan 2013</span></a>
			
				<a class="CSS cate1" href="/2013/01/browser-specific-hacks"><span class="circle_icon"></span>CSS 判断浏览器方法整理<span class="date">Jan 2013</span></a>
			
				<a class="Mac cate1" href="/2013/01/sync-application-preferences"><span class="circle_icon"></span>用 Dropbox 同步 Mac 软件设置<span class="date">Jan 2013</span></a>
			
				<a class="Front_end cate1" href="/2013/01/blogging-with-jekyll"><span class="circle_icon"></span>使用 Jekyll 在 Github 上写博客<span class="date">Jan 2013</span></a>
			
			</div>
		</aside>

		<div id="container">
			<div id="pjax">
				<article id="post">
	<header id="header">
		<h1 id="identifier">XSLT 学习笔记</h1>
		<button id="fullscreen" class="header_icon"></button>
		<button id="fontsize" class="header_icon"></button>
	</header>
	<div id="content">
		<p>XSLT 初学者，整理一些用法，加深记忆：</p>

<h2>普通语法</h2>

<h3>0. 输出 HTML5 <code>&lt;!DOCTYPE html&gt;</code></h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:output</span> <span class="na">method=</span><span class="s">&quot;html&quot;</span>
  <span class="na">encoding=</span><span class="s">&quot;UTF-8&quot;</span>
  <span class="na">indent=</span><span class="s">&quot;yes&quot;</span> <span class="nt">/&gt;</span>

<span class="k">&lt;xsl:template</span> <span class="na">match=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
  <span class="k">&lt;xsl:text</span> <span class="na">disable-output-escaping=</span><span class="s">&#39;yes&#39;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;<span class="k">&lt;/xsl:text&gt;</span>
  <span class="nt">&lt;html&gt;&lt;/html&gt;</span>
<span class="k">&lt;/xsl:template&gt;</span>
</code></pre></div>


<h3>1. 创建变量</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">&quot;variable_name&quot;</span><span class="nt">&gt;</span> <span class="k">&lt;/xsl:variable&gt;</span>

<span class="k">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">&quot;variable_name&quot;</span> <span class="na">select=</span><span class="s">&quot; &quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>


<p>调用变量：<code>$variable_name</code>, Emmet 缩写 <code>val</code></p>

<h3>2. 创建模板与调用模板</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:template</span> <span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:template&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>tn</code></p>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>call</code></p>

<h3>3. <code>value-of</code> 与 <code>copy-of</code></h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot; &quot;</span> <span class="nt">/&gt;</span>

<span class="k">&lt;xsl:copy-of</span> <span class="na">select=</span><span class="s">&quot; &quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>


<p>后者包含 HTML 标签, Emmet 缩写 <code>val</code> <code>co</code></p>

<h3>4. 条件选择</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:choose</span><span class="nt">&gt;</span>
  <span class="k">&lt;xsl:when</span> <span class="na">test=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:when&gt;</span>
  <span class="k">&lt;xsl:otherwise</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:otherwise&gt;</span>
<span class="k">&lt;/xsl:choose&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>ch</code> <code>wh</code> <code>ot</code></p>

<h3>5. <code>if</code> 判断</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:if&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>if</code></p>

<h3>6. <code>for-each</code> 输出</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:for-each&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>each</code></p>

<h3>7. 修改属性</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:attribute</span> <span class="na">name=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="k">&lt;/xsl:attribute&gt;</span>
</code></pre></div>


<p>例如, for-each 输出的第一项添加 <code>offset1</code> class</p>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:for-each</span> <span class="na">select=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;span4&quot;</span><span class="nt">&gt;</span>
    <span class="k">&lt;xsl:choose</span><span class="nt">&gt;</span>
      <span class="k">&lt;xsl:when</span> <span class="na">test=</span><span class="s">&quot;positon() = 1&quot;</span><span class="nt">&gt;</span>
        <span class="k">&lt;xsl:attribute</span> <span class="na">name=</span><span class="s">&quot;class&quot;</span><span class="nt">&gt;</span>span4 offset1<span class="k">&lt;/xsl:attribute&gt;</span>
      <span class="k">&lt;/xsl:when&gt;</span>
    <span class="k">&lt;/xsl:choose&gt;</span>

    <span class="c">&lt;!-- code --&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="k">&lt;/xsl:for-each&gt;</span>
</code></pre></div>


<p>Emmet 缩写 <code>attr</code></p>

<h3>8. 获取 handle 值</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;entry/@handle&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>


<h3>9. 选择 handle 是某个具体值的条目</h3>

<div class="highlight"><pre><code class="xslt"><span class="k">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;entry[@handle=&#39;yes&#39;]&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>


<h3>10. 选择第 n 个条目</h3>

<div class="highlight"><pre><code class="xslt">entry[n]
</code></pre></div>


<h2>XSLT 函数</h2>

<p>XSLT 1.0 函数列表 <a href="http://zvon.org/xxl/XSLTreference/Output/xpathFunctionIndex.html">http://zvon.org/xxl/XSLTreference/Output/xpathFunctionIndex.html</a></p>

<h3>1. for-each 输出位置</h3>

<div class="highlight"><pre><code class="xslt">position()
</code></pre></div>


<p>选择奇数项:</p>

<div class="highlight"><pre><code class="xslt">position() mod 2 = 1
</code></pre></div>


<h3>2. 选择节点本身</h3>

<div class="highlight"><pre><code class="xslt">self::node()
</code></pre></div>


<h3>3. 截取内容</h3>

<div class="highlight"><pre><code class="xslt">substring(string, start, length)
</code></pre></div>


<h2>待续...</h2>


		<div id="social">
			<a id="twitter" href="https://twitter.com/intent/tweet?url=http://peters-playground.com/2013/07/learning-with-xslt&text=XSLT 学习笔记"></a>
			<a id="end_cc" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/"></a>
			<a id="weibo" href="http://v.t.sina.com.cn/share/share.php?url=http://peters-playground.com/2013/07/learning-with-xslt&title=XSLT 学习笔记"></a>
		</div>
	</div>
</article>

<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
			</div>
		</div>

		<div id="notice">左右滑动</div>
		<script type="text/javascript" src="/assets/js/jquery.js"></script>
		<script type="text/javascript" src="/assets/js/jquery.pjax.js"></script>
		<script type="text/javascript" src="/assets/js/script.js"></script>
	</body>
</html>